log("_scorpion_ v0.2b -- *made by smallkitten development*"),log("rewritten from scratch on _10/4/19_");var stats=new Stats;function spnStats(e){1==e&&document.body.appendChild(stats.dom)}stats.showPanel(0);var scorpionDebug=!1;function spnDebug(e){scorpionDebug=e,log("_scorpion debugging_ is set to "+e)}var scorpionSelectedObject,globalObject="global",windowWidth=window.innerWidth,windowHeight=window.innerHeight,textureLoader=new THREE.TextureLoader,isDynamic=!1;function resizeRenderer(){1==isDynamic&&(spnCamera.aspect=window.innerWidth/window.innerHeight,spnCamera.updateProjectionMatrix(),spnRenderer.setSize(window.innerWidth,window.innerHeight))}function spnRotationAnimation(e,o,i,n,a,t){this[globalObject+t]=window.setInterval(function(){e.rotation.x-=o*i,e.rotation.y-=o*n,e.rotation.z-=o*a},16),log("added a rotation animation called global"+t+" to a global object.")}function spnPositionAnimation(e,o,i,n,a,t){this[globalObject+t]=window.setInterval(function(){e.position.x-=o*i,e.position.y-=o*n,e.position.z-=o*a},16),log("added a positional animation called global"+t+" to a global object.")}function spnScaleAnimation(e,o,i,n,a,t){this[globalObject+t]=window.setInterval(function(){e.scale.x-=o*i,e.scale.y-=o*n,e.scale.z-=o*a},16)}window.addEventListener("resize",resizeRenderer,!1);var white=16777215,black=0,red=16711680,orange=16753920,yellow=16776960,green=32768,blue=255,purple=8388736;function animate(){stats.begin(),requestAnimationFrame(animate),spnRenderer.render(spnScene,spnCamera),stats.end()}function spnScene(e,o,i,n,a){window.spnScene=new THREE.Scene,spnScene.backgroundColor=new THREE.Color(a),spnRenderer=new THREE.WebGLRenderer({antialias:!0,shadowMapEnabled:!0}),spnRenderer.setSize(windowWidth,windowHeight),document.body.appendChild(spnRenderer.domElement),spnCamera=new THREE.PerspectiveCamera(e,windowWidth/windowHeight,.1,2e3),spnCamera.position.set(o,i,n),spnScene.add(spnCamera),isDynamic=!0,animate()}function spnGrid(e,o,i,n,a,t){var s=new THREE.GridHelper(e,o);s.position.x=i,s.position.y=n,s.position.z=a,t.add(s)}function spnCustomMaterial(e,o,i,n,a,t){var s=textureLoader.load(o),r=textureLoader.load(i),l=textureLoader.load(n),c=textureLoader.load(a);albedoMap.encoding=THREE.sRGBEncoding,o.anistrophy=16,"basic"==e&&(this[globalObject+t]=new THREE.MeshBasicMaterial({map:s})),"lambert"==e&&(this[globalObject+t]=new THREE.MeshLambertMaterial({map:s,specularMap:l,emissiveMap:c})),"phong"==e&&(this[globalObject+t]=new THREE.MeshPhongMaterial({map:s,normalMap:r,emissiveMap:c,specularMap:l}))}function spnLight(e,o,i,n,a,t,s,r){if("ambient"==e){var l=new THREE.AmbientLight(o);spnScene.add(l),this[globalObject+r]=l}if("directional"==e){var c=new THREE.DirectionalLight(o,t);c.position.set(i,n,a),c.castShadow=s,spnScene.add(l),this[globalObject+r]=c}if("point"==e){var d=new THREE.PointLight(o,t);d.position.set(i,n,a),d.castShadow=s,spnScene.add(d),this[globalObject+r]=d}log("_scorpion_ has created a "+e+" light.")}function spnCube(e,o,i,n,a,t,s,r,l,c){if("basic"==e){var d=new THREE.Mesh(new THREE.CubeGeometry(i,n,a),new THREE.MeshBasicMaterial({color:o,wireframe:l}));d.position.x=t,d.position.y=s,d.position.z=r,d.castShadow=!0,spnScene.add(d),this[globalObject+c]=d}if("lambert"==e){var p=new THREE.Mesh(new THREE.CubeGeometry(i,n,a),new THREE.MeshLambertMaterial({color:o,wireframe:l}));p.position.x=t,p.position.y=s,p.position.z=r,p.castShadow=!0,spnScene.add(p),this[globalObject+c]=p}if("phong"==e){var h=new THREE.Mesh(new THREE.CubeGeometry(i,n,a),new THREE.MeshPhongMaterial({color:o,wireframe:l}));h.position.x=t,h.position.y=s,h.position.z=r,h.castShadow=!0,spnScene.add(h),this[globalObject+c]=h}log("_scorpion_ has created a "+e+" cube.")}function spnSphere(e,o,i,n,a,t,s,r,l,c){if("basic"==e){var d=new THREE.Mesh(new THREE.SphereGeometry(o,i,n,0,2*Math.PI,0,2*Math.PI),new THREE.MeshBasicMaterial({color:a,wireframe:l}));d.position.x=t,d.position.y=s,d.position.z=r,d.castShadow=!0,spnScene.add(d),this[globalObject+c]=d}if("lambert"==e){var p=new THREE.Mesh(new THREE.SphereGeometry(o,i,n,0,2*Math.PI,0,2*Math.PI),new THREE.MeshLambertMaterial({color:a,wireframe:l}));p.position.x=t,p.position.y=s,p.position.z=r,p.castShadow=!0,spnScene.add(p),this[globalObject+c]=p}if("phong"==e){var h=new THREE.Mesh(new THREE.SphereGeometry(o,i,n,0,2*Math.PI,0,2*Math.PI),new THREE.MeshPhongMaterial({color:a,wireframe:l}));h.position.x=t,h.position.y=s,h.position.z=r,h.castShadow=!0,spnScene.add(h),this[globalObject+c]=h}log("_scorpion_ has created a "+e+" sphere.")}function spnWall(e,o,i,n,a,t,s,r,l,c,d,p){if(l>100&&log('[c="color: red"]the triangles in this mesh are very high. you may want to lower this to maintain stable performance.[c]'),"basic"==e){var h=new THREE.Mesh(new THREE.PlaneGeometry(o,i,l,l),new THREE.MeshBasicMaterial({color:c,opacity:1,wireframe:d}));h.position.x=n,h.position.y=a,h.position.z=t,h.material.side=THREE.DoubleSide,h.rotation.x=s,h.rotation.y=r,spnScene.add(h),this[globalObject+p]=h}if("lambert"==e){var E=new THREE.Mesh(new THREE.PlaneGeometry(o,i,l,l),new THREE.MeshLambertMaterial({color:c,opacity:1,wireframe:d}));E.position.x=n,E.position.y=a,E.position.z=t,E.material.side=THREE.DoubleSide,E.rotation.x=s,E.rotation.y=r,E.receiveShadow=!0,spnScene.add(E),this[globalObject+p]=E}if("phong"==e){var w=new THREE.Mesh(new THREE.PlaneGeometry(o,i,l,l),new THREE.MeshPhongMaterial({color:c,opacity:1,wireframe:d}));w.position.x=n,w.position.y=a,w.position.z=t,w.material.side=THREE.DoubleSide,w.rotation.x=s,w.rotation.y=r,w.receiveShadow=!0,spnScene.add(w),this[globalObject+p]=w}log("_scorpion_ has created a "+e+" wall.")}function spnFloor(e,o,i,n,a,t,s,r,l,c){if("basic"==e){var d=new THREE.Mesh(new THREE.PlaneGeometry(o,i,s,s),new THREE.MeshBasicMaterial({color:r,opacity:1,wireframe:l}));d.position.x=n,d.position.y=a,d.position.z=t,d.material.side=THREE.DoubleSide,d.rotation.x=-Math.PI/2,spnScene.add(d),this[globalObject+c]=d}if("lambert"==e){var p=new THREE.Mesh(new THREE.PlaneGeometry(o,i,s,s),new THREE.MeshLambertMaterial({color:r,opacity:1,wireframe:l}));p.position.x=n,p.position.y=a,p.position.z=t,p.material.side=THREE.DoubleSide,p.rotation.x=-Math.PI/2,p.receiveShadow=!0,spnScene.add(p),this[globalObject+c]=p}if("phong"==e){var h=new THREE.Mesh(new THREE.PlaneGeometry(o,i,s,s),new THREE.MeshPhongMaterial({color:r,opacity:1,wireframe:l}));h.position.x=n,h.position.y=a,h.position.z=t,h.material.side=THREE.DoubleSide,h.rotation.x=-Math.PI/2,h.receiveShadow=!0,spnScene.add(h),this[globalObject+c]=h}}function spnObjectLoader(e,o,i,n,a,t,s,r,l,c){var d=new THREE.MTLLoader;d.setPath(e),d.load(o,function(o){o.preload();var d=new THREE.OBJLoader;d.setMaterials(o),d.setPath(e),d.load(i,function(e){e.position.x=n,e.position.y=a,e.position.z=t,e.rotation.x=s,e.rotation.y=r,e.rotation.z=l,spnScene.add(e),this[globalObject+c]=e})})}